package com.board.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.multipart.MultipartFile;
import org.springframework.web.multipart.MultipartHttpServletRequest;

@Controller
@RequestMapping("/upload/")
public class UploadController {
	
	@GetMapping("uplaodForm")
	public void uploadForm() {
		System.out.println("업로드 폼 요청");
	}
	
	@PostMapping("uploadPro")
	public String uploadPro(String msg, MultipartHttpServletRequest request ) {
		
		// 넘어온 파일 정보를 꺼내기 
		// 서버에 파일 저장
		System.out.println("msg : "+msg);
		MultipartFile mf = request.getFile("img");
		System.out.println("mf size : " + mf.getSize());
		
		// + DB에 파일명도 추가
		
		return "uplaod/uplaodPro";
	}
}
